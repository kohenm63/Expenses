{"ast":null,"code":"var _jsxFileName = \"/Users/milarabuchin/Library/Mobile Documents/com~apple~CloudDocs/web/webProjects/april2020/bills/my-app/src/Context/BillContext.js\";\nimport React, { useContext, useState, useEffect, createContext } from 'react';\nconst BillContext = createContext();\n\nconst BillProvider = ({\n  children\n}) => {\n  const [bills, setBills] = useState([]);\n  const [selectedCostInterval, setSelectedCostInterval] = useState('Monthly');\n  useEffect(() => {\n    setBills(JSON.parse(localStorage.getItem('bills')) || []);\n  }, [setBills]); //-->setBills == componentDidMount --/\n\n  useEffect(() => {\n    console.log(bills);\n  }, [bills]);\n\n  const updateBills = bill => {\n    const updatedBills = alphabeticalOrder([...bills, //-->spread operator --/\n    bill]);\n    localStorage.setItem('bills', JSON.stringify(updatedBills));\n    setBills(updatedBills);\n  };\n\n  const alphabeticalOrder = bills => {\n    return bills.sort((a, b) => a.title.toUpperCase() < b.title.toUpperCase() ? -1 : 0);\n  };\n\n  const editBill = billToUpdate => {\n    const billsFiltered = bills.filter(bill => bill.title !== billToUpdate.title);\n    const updatedBills = alphabeticalOrder([...billsFiltered, billToUpdate]);\n    localStorage.setItem('bills', JSON.stringify(updatedBills));\n    setBills(updatedBills);\n  };\n\n  return /*#__PURE__*/React.createElement(BillContext.Provider, {\n    value: {\n      bills,\n      updateBills,\n      editBill\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, children);\n};\n\nexport { BillContext, BillProvider };","map":{"version":3,"sources":["/Users/milarabuchin/Library/Mobile Documents/com~apple~CloudDocs/web/webProjects/april2020/bills/my-app/src/Context/BillContext.js"],"names":["React","useContext","useState","useEffect","createContext","BillContext","BillProvider","children","bills","setBills","selectedCostInterval","setSelectedCostInterval","JSON","parse","localStorage","getItem","console","log","updateBills","bill","updatedBills","alphabeticalOrder","setItem","stringify","sort","a","b","title","toUpperCase","editBill","billToUpdate","billsFiltered","filter"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA0BC,QAA1B,EAAmCC,SAAnC,EAA8CC,aAA9C,QAAiE,OAAjE;AAEA,MAAMC,WAAW,GAAGD,aAAa,EAAjC;;AAEA,MAAME,YAAY,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AAEjC,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBP,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAM,CAACQ,oBAAD,EAAsBC,uBAAtB,IAAiDT,QAAQ,CAAC,SAAD,CAA/D;AAGAC,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,QAAQ,CAACG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,KAA4C,EAA7C,CAAR;AACH,GAFQ,EAEN,CAACN,QAAD,CAFM,CAAT,CANiC,CAQjB;;AAEhBN,EAAAA,SAAS,CAAC,MAAM;AACZa,IAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ;AAEH,GAHQ,EAGN,CAACA,KAAD,CAHM,CAAT;;AAKA,QAAMU,WAAW,GAAIC,IAAD,IAAS;AAC1B,UAAMC,YAAY,GAAEC,iBAAiB,CAAC,CAClC,GAAGb,KAD+B,EACvB;AACXW,IAAAA,IAFkC,CAAD,CAArC;AAIAL,IAAAA,YAAY,CAACQ,OAAb,CAAqB,OAArB,EAA8BV,IAAI,CAACW,SAAL,CAAeH,YAAf,CAA9B;AACAX,IAAAA,QAAQ,CAACW,YAAD,CAAR;AAEC,GARJ;;AASG,QAAMC,iBAAiB,GAAIb,KAAD,IAAW;AACpC,WAAOA,KAAK,CAACgB,IAAN,CAAW,CAACC,CAAD,EAAGC,CAAH,KAChBD,CAAC,CAACE,KAAF,CAAQC,WAAR,KAAwBF,CAAC,CAACC,KAAF,CAAQC,WAAR,EAAxB,GAAgD,CAAC,CAAjD,GAAqD,CADhD,CAAP;AAED,GAHA;;AAKA,QAAMC,QAAQ,GAAIC,YAAD,IAAkB;AAC/B,UAAMC,aAAa,GAAGvB,KAAK,CAACwB,MAAN,CAAcb,IAAD,IAASA,IAAI,CAACQ,KAAL,KAAcG,YAAY,CAACH,KAAjD,CAAtB;AACA,UAAMP,YAAY,GAAGC,iBAAiB,CAAC,CACtC,GAAGU,aADmC,EAEtCD,YAFsC,CAAD,CAAtC;AAIAhB,IAAAA,YAAY,CAACQ,OAAb,CAAqB,OAArB,EAA8BV,IAAI,CAACW,SAAL,CAAeH,YAAf,CAA9B;AACJX,IAAAA,QAAQ,CAACW,YAAD,CAAR;AAEC,GATD;;AAWH,sBACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAI;AAC3BZ,MAAAA,KAD2B;AAE3BU,MAAAA,WAF2B;AAEdW,MAAAA;AAFc,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGCtB,QAHD,CADJ;AAQH,CAhDD;;AAkDA,SAAOF,WAAP,EAAmBC,YAAnB","sourcesContent":["import React ,{useContext,useState,useEffect, createContext}from 'react';\n\nconst BillContext = createContext();\n\nconst BillProvider = ({children}) => {\n\n    const [bills,setBills] = useState([]);\n    const [selectedCostInterval,setSelectedCostInterval] = useState('Monthly')\n\n   \n    useEffect(() => {\n        setBills(JSON.parse(localStorage.getItem('bills'))|| [])\n    }, [setBills]) ;//-->setBills == componentDidMount --/\n\n    useEffect(() => {\n        console.log(bills);\n        \n    }, [bills]);\n\n    const updateBills = (bill) =>{\n       const updatedBills =alphabeticalOrder([\n           ...bills,  //-->spread operator --/\n           bill\n       ]);\n       localStorage.setItem('bills', JSON.stringify(updatedBills));\n       setBills(updatedBills);\n      \n       };\n       const alphabeticalOrder = (bills) => {\n        return bills.sort((a,b) => \n          a.title.toUpperCase() < b.title.toUpperCase() ? -1 : 0);\n      };\n    \n       const editBill = (billToUpdate) => {\n           const billsFiltered = bills.filter((bill)=> bill.title!== billToUpdate.title);\n           const updatedBills = alphabeticalOrder([\n            ...billsFiltered,\n            billToUpdate\n          ]);\n           localStorage.setItem('bills', JSON.stringify(updatedBills));\n       setBills(updatedBills);\n\n       };\n\n    return (\n        <BillContext.Provider value = {{\n            bills,\n            updateBills, editBill}}>\n        {children}\n            \n        </BillContext.Provider>\n    );\n}\n\nexport{BillContext,BillProvider};\n"]},"metadata":{},"sourceType":"module"}